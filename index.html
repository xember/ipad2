<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8">
  <title>ipad app</title>
  
  <!-- stylesheets -->
  <link rel="stylesheet" type="text/css" href="res/rts.css"><!-- css with some preset styles used by rts.js -->
  <link rel="stylesheet" type="text/css" href="res/style.css">
  <link rel="stylesheet" type="text/css" href="res/settingstyle.css">
  <link rel="stylesheet" type="text/css" href="res/flipclock.css">  
  <link rel="stylesheet" href="res/royalslider/royalslider.css" >
  <link rel="stylesheet" href="res/royalslider/skins/default/rs-default.css" >
  
  <!-- javasccript libaries-->
  <script type="text/javascript" src="res/jquery-1.8.3.min.js"></script>
  <script type="text/javascript" src="res/jquery-ui-1.10.4.custom.min.js"></script>
  <script type="text/javascript" src="res/d3.v3.min.js"></script>
  <script type="text/javascript" src="res/jquery.hammer-full.min.js"></script>
  <script type="text/javascript" src="res/royalslider/jquery.royalslider.min.js"></script>
  <script type="text/javascript" src="res/widgets/d3arcSingle.js"></script>
  <script type="text/javascript" src="res/widgets/d3gauge1.js"></script>
  <script type="text/javascript" src="res/widgets/d3BarChart.js"></script>
  <script type="text/javascript" src="res/widgets/base.js"></script>
  <script type="text/javascript" src="res/widgets/flipclock.js"></script>
  <script type="text/javascript" src="res/widgets/counter.js"></script>
  <script type="text/javascript" src="res/apphandlers.js"></script>


  <!-- Adobe PhoneGap specific javascript libaries -->
  <!-- Scripts are not in recources; script is generated by phonegap appbuilder -->
  <script type="text/javascript" charset="utf-8" src="phonegap.js"></script> 
  <script type="text/javascript" charset="utf-8" src="statusbar.js"></script>
 
  <!-- prime-contact! rts specific javascript libaries -->
  <script type="text/javascript" src="res/jws/jWebSocket.js"></script><!-- mandatory script; websocket client -->
  <script type="text/javascript" src="res/rts.js"></script><!-- mandatory script; will refresh stats -->

 </head>
 <body>
    <script type="text/javascript">
          var splash = true; 
          rts.jws("ws://rts-demo.prime-contact.com:8888/jWebSocket/jWebSocket"); // this will initiate a websocket connection to our simulator
          rts.object('site','simulator');   // this opens a connection to our simulator statistics
    </script>
    <div id="splash"><img src="res\images\splash.png"></div>
    <div id="transmenuleft"></div>
    <div id="transmenuright"></div>
    <div id="menuleft">
      <div>
        <div class="lft">
          <svg id="leftarc1" class="leftarc"></svg>
        </div>
        <div class="rgt">
          <table>
              <tr>
                <td class="tablebigtxt">Moving</td>
                <td></td>
              </tr>
              <tr>
                <td class="tablebigfig">00:50</td>
                <td class="tablebigfig">50</td>
              </tr>
              <tr>
                <td class="tabletxt">AVERAGE TIME</td>
                <td class="tabletxt">TOTAL</td>
              </tr>                            
          </table>
        </div>
      </div>
      <div>
        <div class="lft">
          <svg id="leftarc2" class="leftarc"></svg>
        </div>
        <div class="rgt">
          <table>
              <tr>
                <td class="tablebigtxt">Malfunctions</td>
                <td></td>
              </tr>
              <tr>
                <td class="tablebigfig">00:50</td>
                <td class="tablebigfig">50</td>
              </tr>
              <tr>
                <td class="tabletxt">AVERAGE TIME</td>
                <td class="tabletxt">TOTAL</td>
              </tr>                            
          </table>
        </div>
      </div>
      <div>
        <div class="lft">
          <svg id="leftarc3" class="leftarc"></svg>
        </div>
        <div class="rgt">
          <table>
              <tr>
                <td class="tablebigtxt">Invoicing</td>
                <td></td>
              </tr>
              <tr>
                <td class="tablebigfig">00:50</td>
                <td class="tablebigfig">50</td>
              </tr>
              <tr>
                <td class="tabletxt">AVERAGE TIME</td>
                <td class="tabletxt">TOTAL</td>
              </tr>                            
          </table>
        </div>
      </div>
      <div>
        <div class="lft">
          <svg id="leftarc4" class="leftarc"></svg>
        </div>
        <div class="rgt">
          <table>
              <tr>
                <td class="tablebigtxt">Metering</td>
                <td></td>
              </tr>
              <tr>
                <td class="tablebigfig">00:50</td>
                <td class="tablebigfig">50</td>
              </tr>
              <tr>
                <td class="tabletxt">AVERAGE TIME</td>
                <td class="tabletxt">TOTAL</td>
              </tr>                            
          </table>
        </div>
      </div>
      <div>
        <div class="lft">
          <svg id="leftarc5" class="leftarc"></svg>
        </div>
        <div class="rgt">
          <table>
              <tr>
                <td class="tablebigtxt">Complaints</td>
                <td></td>
              </tr>
              <tr>
                <td class="tablebigfig">00:50</td>
                <td class="tablebigfig">50</td>
              </tr>
              <tr>
                <td class="tabletxt">AVERAGE TIME</td>
                <td class="tabletxt">TOTAL</td>
              </tr>                            
          </table>
        </div>
      </div>
    </div>
    <div id="menuright">
        <img id="shadow" src="res\images\shadow.png">
        <table id="menutablerighttop">
          <tr>
            <td id="exit"><img src="res\images\icon-close menu.png" width="20.5px"></td>
          </tr>
          <tr>
            <td id="overview"><img src="res\images\icon-cc overview.png" width="31.5px"></td>
          </tr>
          <tr>
            <td><img id="location" src="res\images\icon-location.png" width="30px"></td>
          </tr>
          <tr>
            <td><img id="queue" src="res\images\icon-queue.png" width="20px"></td>
          </tr>
          <tr>
            <td><img id="group" src="res\images\icon-group.png" width="35px"></td>
          </tr>
          <tr>
            <td><img id="agent" src="res\images\icon-agent.png" width="30px"></td>
          </tr>
        </table>
        <table id="menutablerightbottom">
          <tr>
            <td id="lightbluecell"><img id="" src="res\images\icon-alert.png" width="29px"></td>
          </tr>
          <tr>
            <td id="bluecell"><img id="settings" src="res\images\icon-settings.png" width="30px"></td>
          </tr>
        </table>
    </div>

    <div id="container">  
      <img id="btn-close" src="res\images\btn-close.png" width="20px">
      <div id="top">
            <div id="top_first"><img id="squarebutton" src="res\images\square.png" width="27px"><img id="camera" src="res\images\camera.png" width="25px">
              <div id="clockbox">
                <div class="clock" style="margin:4px;"></div>  
              </div>
              <span id="interactiontxt">TOTAL INTERACTIONS</span>
              <span id="WAIT" class="largenumber" data-stat="RehousingWaiting">**</span>
              <br>
              <span id="WAITText" class="desc">TOTAL WAITING</span>
              <span id="ABAND" class="largenumber" data-stat="RehousingEntered" >****</span>
              <br>
              <span id="ABANDText" class="desc">TOTAL ABANDONED</span>
              <img id="ring" src="res\images\ring.png">
              <img id="ring1" src="res\images\ring.png">
              <img id="ring2" src="res\images\ring.png">
              <img id="ring3" src="res\images\ring.png">
              <img id="ring4" src="res\images\halfring.png">
              <img id="ring5" src="res\images\halfring.png">
              <img id="threed" src="res\images\3d-effect.png">
            </div>
            <div id="top_second">
              <img id="trend" src="res\images\trend.png" width="120px">
              <svg id="background_circle"><circle cx="77" cy="77" r="68" stroke="black" stroke-width="16" fill="none"/></svg>
              <svg id="circle_widget4" width="120" height="150" viewBox="0 0 120 150"></svg>
              <span id="totalsl"class="desc">SERVICELEVEL</SPAN>
            </div>
            <div id="top_third">
              <img id="stripesbutton" src="res\images\stripes.png" width="30px">
              <div id = "offlinehandler">
                <img id="offlinebutton" src="res\images\icon-offline.png" width="25px">
                <img id="message-box" src="res\images\message-box.png" width="238px">             
                <span id="orangetext">Network connection is lost,</span>
                <span id="whitetext">Make sure WIFI is turned on.</span>
              </div>           
            <div>
                <svg id="gauge1"></svg>
                <span id="AHT" class="largenumber">03:29</span>
                <br>
                <span id="AHTText" class="desc">AVERAGE HANDLING TIME</span>
                <span id="AWT" class="largenumber">03:29</span>
                <br>
                <span id="AWTText" class="desc">AVERAGE WAITING TIME</span>
              </div>
            </div>
        </div>
      <div class="break"></div>
        <div id="middle">
            <div id="middle_first">
              <svg id="barchart1"></svg><img id="baricons1" src="res\images\bar-icons.png" width="150px">
              <span id="waiting">Waiting Calls</span>
              <span id="totalwaiting">Total Waiting</span>
              <span id="averagewaiting">Average Waiting</span>
              <span id="number1">25</span>
              <span id="number2">50</span>
            </div>
            <div id="middle_second">
              <svg id="circle_widget1"><text class="label" x="35" y="100" text-anchor="middle" fill="#969EAC" font-size="12px" font-weight="bold">LONDON</text></svg>
              <svg id="circle_widget2"><text class="label" x="35" y="100" text-anchor="middle" fill="#969EAC" font-size="12px" font-weight="bold">LEEDS</text></svg>
              <svg id="circle_widget3"><text class="label" x="35" y="100" text-anchor="middle" fill="#969EAC" font-size="12px" font-weight="bold">CARDIFF</text></svg>
            </div>
            <div id="middle_third">
              <svg id="barchart2"></svg>
              <img id="baricons2" src="res\images\bar-icons.png" width="150px">
              <span id="waitingtime">Waiting Time</span>
              <span id="averagewaitingtime">Average Waiting</span>
              <span id="longestwaiting">Longest Waiting</span>
              <span id="timer1">01:00</span>
              <span id="timer2">03:00</span>
            </div>
        </div>
      <div class="break"></div>
        <div id="bottom">
            <div id="left"><img id="graph1" src="res\images\graph1.png" width="480px"></div>
            <div id="right"><img id="graph2" src="res\images\graph2.png" width="480px"></div>
        </div>
    </div> 

    <div id="settingcontainer">
      <img id="btn-close" src="res\images\btn-close.png" width="20px">
      <div id="stleft">
        <div id="first">
          <img id="stsquarebutton" src="res\images\square_gray.png" width="27px">
          <span id="settingstext">Settings</span>
            <div id="graysquareheader">
              <table>
                <tr>
                  <td id="tablename">Thresholds</td>
                </tr>
              </table>
            </div>
            <div id="graysquare">
              <div id="middlewhite">
                <span id="nottext">Set notifications</span>
                <span id="overalltext">Overall Contact Center</span>
                  <svg id ="threshold1" height="100px" width="548px">
                    <defs>
                      <linearGradient id="myLinearGradient1" x1="0%" y1="0%" x2="100%" y2="0%" spreadMethod="pad">
                        <stop id="offset1" offset="10%" stop-color="#dc001f" stop-opacity="1"></stop>
                        <stop id="offset2" offset="45%" stop-color="#ff7e00" stop-opacity="1"></stop>
                        <stop id="offset3" offset="90%" stop-color="#70d72b" stop-opacity="1"></stop>
                      </linearGradient>
                    </defs>

                    <rect x="95" y="2" width="360" height="36" rx="20" ry="20" style="fill:#d7d7d7"></rect>
                    <rect x="115" y="2" width="324" height="36" rx="20" ry="20" style="fill:url(#myLinearGradient1);"></rect>
                    <g>
                      <rect x="25" y="2" width="55" height="36" rx="20" ry="20" stroke="#d7d7d7" stroke-width="2" fill="transparent"></rect>
                      <text id="middleval" x="260" y="80" font-size="18" font-weight="bold" fill="#ff7e00">60%</text>
                    </g>
                    <g>
                      <rect x="475" y="2" width="55" height="36" rx="20" ry="20" stroke="#d7d7d7" stroke-width="2" fill="transparent"></rect>
                      <text id="rightval" x="484" y="26" font-size="18" font-weight="bold" fill="#70d72b">70%</text>
                    </g>
                    <g>
                      <rect x="250" y="55" width="55" height="36" rx="20" ry="20" stroke="#d7d7d7" stroke-width="2" fill="transparent"></rect>
                      <text id="leftval"x="34" y="26" font-size="18" font-weight="bold" fill="#dc001f">40%</text>
                    </g>
                    <circle id="circle1" cx="113" cy="20" r="14" stroke="white" stroke-width="8" fill="transparent"></circle>
                    <circle id="circle2" cx="113" cy="20" r="14" stroke="white" stroke-width="8" fill="transparent"></circle>
                    <circle id="circle3" cx="113" cy="20" r="14" stroke="white" stroke-width="8" fill="transparent"></circle>
                  </svg>
            </div>
            <img id="iconsettings" src="res\images\icons-settings.png" width="450px">
            <img id="camera2" src="res\images\camera2.png" width="64px">
          </div>
        </div>
        <div id="second">
              <img id="loc" src="res\images\location.png">
              <span id="lastpos">Remember last position</span>
              <div id="buttonswitch1">
                <div id="buttoncircle1"></div>
              </div>
              <span id="inapp">Disable in-app notifications</span>
              <div id="buttonswitch2">
                <div id="buttoncircle2"></div>
              </div>
        </div>
      </div>
      <div id="stright">
        <img id="ststripesbutton" src="res\images\stripes_gray.png" width="30px">
        <img id="login" src="res\images\login.png">
        <span id="helptext">For help and more information about RTS please feel free to contact us.</span>
        <div id="emailbutton">Contact us!</div>
        <div id="aboutbutton">About RTS</div>
      </div>
    </div>

    <script type="text/javascript">


        var arc1 = new d3arcSingle("#circle_widget1",{
          width:70,
          height:120,
          bgWidth:5,
          bgColor:"black",
          arcWidth:5,
          arcColors:["#dc001f","#ff7e00","#70d72b"],
          valueSize:16
        });

        var arc2 = new d3arcSingle("#circle_widget2",{
          width:70,
          height:120,
          bgWidth:5,
          bgColor:"black",
          arcWidth:5,
          arcColors:["#dc001f","#ff7e00","#70d72b"],
          valueSize:16
        });

        var arc3 = new d3arcSingle("#circle_widget3",{
          width:70,
          height:120,
          bgWidth:5,
          bgColor:"black",
          arcWidth:5,
          arcColors:["#dc001f","#ff7e00","#70d72b"],
          valueSize:16
        });

        var arc4 = new d3arcSingle("#circle_widget4",{
          width:144.5,
          height:144.5,
          bgWidth:8,
          bgColor:"#1E272E",
          arcWidth:8,
          arcColors:["#dc001f","white","white"],
          valueSize:36
        });

        var leftarc1 = new d3arcSingle("#leftarc1",{
          width:84,
          height:84,
          bgWidth:8,
          bgColor:"black",
          arcWidth:6,
          arcColors:["red","green"],
          thresholds:[0.4],
          valueSize:18
        });

        var leftarc2 = new d3arcSingle("#leftarc2",{
          width:90,
          height:90,
          bgWidth:8,
          bgColor:"black",
          arcWidth:6,
          arcColors:["red","#FE6419"],
          thresholds:[0.4],
          valueSize:18
        });

        var leftarc3 = new d3arcSingle("#leftarc3",{
          width:90,
          height:90,
          bgWidth:8,
          bgColor:"black",
          arcWidth:6,
          arcColors:["red","#004E8C"],
          thresholds:[0.4],
          valueSize:18
        });

        var leftarc4 = new d3arcSingle("#leftarc4",{
          width:90,
          height:90,
          bgWidth:8,
          bgColor:"black",
          arcWidth:6,
          arcColors:["red","#004E8C"],
          thresholds:[0.4],
          valueSize:18
        });

        var leftarc5 = new d3arcSingle("#leftarc5",{
          width:90,
          height:90,
          bgWidth:8,
          bgColor:"black",
          arcWidth:6,
          arcColors:["red","#FE6419"],
          thresholds:[0.4],
          valueSize:18
        });

        var gauge1 = d3gauge1("#gauge1",{
          width:125,
          height:200,
          bgWidth:25,
          bgColor:"#0066AE",
          arcWidth:25,
          arcColors:["#B9D5E8","red"],
          thresholds:[0.7],
          valueSize:28,
          maxValue:60,
          waittxtSize: 11,
          waittxt: "LONGEST WAITING",
          needleColor:"white",
          needleCenterColor:"#005DA7"
        });

      setInterval(function(){
          if( typeof($('body').data('stats')) !== "undefined" ){
            // Update D3 chart with Service Level
            if( $('body').data('stats').hasOwnProperty('ServiceLevel1') ){
              arc1.render($('body').data('stats')['ServiceLevel1']/100);
            }
            if( $('body').data('stats').hasOwnProperty('ServiceLevel2') ){
              arc2.render($('body').data('stats')['ServiceLevel2']/100);
            }
            if( $('body').data('stats').hasOwnProperty('ServiceLevel3') ){
              arc3.render($('body').data('stats')['ServiceLevel3']/100);
            }
            if( $('body').data('stats').hasOwnProperty('ServiceLevel4') ){
              arc4.render($('body').data('stats')['ServiceLevel4']/100);
            }
            if( $('body').data('stats').hasOwnProperty('RehousingLongestWaitTime') ){
              gauge1.render($('body').data('stats')['RehousingLongestWaitTime']);
            } 
          }
        },4000);

  
/* 

      setInterval(function(){
          if( typeof($('body').data('stats')) !== "undefined" ){       
            if( $('body').data('stats').hasOwnProperty('TotalCalls') ){
              clock.increment(parseInt($('body').data('stats')['TotalCalls']));
            }
          }
        },8000);


     setInterval(function(){
            bar1.render([parseInt($('body').data('stats')['WaitingRehousing']),parseInt($('body').data('stats')['WaitingOutage']),parseInt($('body').data('stats')['WaitingInvoices']),parseInt($('body').data('stats')['WaitingComplaints']),parseInt($('body').data('stats')['WaitingMetering']),parseInt($('body').data('stats')['WaitingConnections']),parseInt($('body').data('stats')['WaitingOthers'])]);
            bar2.render([parseInt($('body').data('stats')['WaitingRehousing']),parseInt($('body').data('stats')['WaitingOutage']),parseInt($('body').data('stats')['WaitingInvoices']),parseInt($('body').data('stats')['WaitingComplaints']),parseInt($('body').data('stats')['WaitingMetering']),parseInt($('body').data('stats')['WaitingConnections']),parseInt($('body').data('stats')['WaitingOthers'])]);
        },3500);

*/
      //handle rightmenu apperance

      $(document).ready(function() {

       








    //handle setting option
              $("#settings").click(function() {  
                  $("#container").hide();
                  $("#menuright").hide();
                  $("#settingcontainer").show();
                  StatusBar.backgroundColorByHexString("#404040");
              });  
    //handle overview button
              $("#overview").click(function() {  
                  $("#container").show();
                  $("#settingcontainer").hide();
                  $("#menuright").hide();
                  StatusBar.backgroundColorByHexString("#00172F");
              });  
      //handle clicks on non existant functions by triggering a native device alert


              $("#location, #queue, #group, #agent").click(function() {  
                navigator.notification.alert(
                    'This function has not been implemented (yet).',
                     null,  
                    'System Message',
                    'Done'
                );
              });  



        // Instantiate a counter
        clock = $('.clock').FlipClock(0, {
          clockFace: 'Counter'
        });
        
        clock.setValue(21900);




      });


    document.addEventListener("deviceready", onDeviceReady, false);
            
    // Cordova is ready
    //
    function onDeviceReady() {
        StatusBar.overlaysWebView(false);
        StatusBar.backgroundColorByHexString("#00172F");

      //splashscreen
  
      if(splash == true){
        $("#splash").show();
        setTimeout(function(){
          $("#splash").fadeTo(2000,0);
          $("#container").fadeTo(2500,1);
          },3000);
        setTimeout(function(){
          StatusBar.show();
          },4000);
      }
    }
       
  var bar1 = d3BarChart("#barchart1",{
        width: 200, 
        height: 62, 
        threshold: [12, 23, 16, 39, 24, 49, 32],
        thresholdcolor: "#F9631C",
        thresholdwidth: 1,
        duration: 2000, 
        bgWidth: 30, 
        bgColor: "black", 
        bgbarWidth: 8, 
        barColor: "#0066AE", 
        barRounding: 5,
        barWidth: 8,
        spacer: 14
    });

  var bar2 = d3BarChart("#barchart2",{
        width: 200, 
        height: 62, 
        threshold: [20, 40, 16, 39, 48, 10, 32],
        thresholdcolor: "#F9631C",
        thresholdwidth: 1,
        duration: 2000, 
        bgWidth: 30, 
        bgColor: "black", 
        bgbarWidth: 8, 
        barColor: "#0066AE", 
        barRounding: 5,
        barWidth: 8,
        spacer: 14
    });
   

  

    </script>
 </body>
</html>
